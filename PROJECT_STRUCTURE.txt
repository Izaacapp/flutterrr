# Passport Buddy - Project Structure

## Root Directory
/Users/beck/github/mern&flutter/

## Core Configuration Files
â”œâ”€â”€ .env                           # Environment variables
â”œâ”€â”€ docker-compose.yml            # Docker services configuration
â”œâ”€â”€ Makefile                      # Build and deployment scripts
â”œâ”€â”€ package.json                  # Root package configuration
â””â”€â”€ README.md                     # Project documentation

## Backend (Node.js/Express/GraphQL)
backend/
â”œâ”€â”€ package.json                  # Backend dependencies
â”œâ”€â”€ Dockerfile.dev               # Development container
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ server.ts               # Main server entry point
â”‚   â”œâ”€â”€ app.ts                  # Express app configuration
â”‚   â”œâ”€â”€ config/
â”‚   â”‚   â”œâ”€â”€ db.ts              # MongoDB connection
â”‚   â”‚   â””â”€â”€ env.ts             # Environment configuration
â”‚   â”œâ”€â”€ controllers/
â”‚   â”‚   â”œâ”€â”€ auth.controller.ts  # Authentication logic
â”‚   â”‚   â”œâ”€â”€ post.controller.ts  # Post management
â”‚   â”‚   â”œâ”€â”€ user.controller.ts  # User management
â”‚   â”‚   â”œâ”€â”€ flight.controller.ts # Flight tracking
â”‚   â”‚   â””â”€â”€ notification.controller.ts # Notifications
â”‚   â”œâ”€â”€ models/
â”‚   â”‚   â”œâ”€â”€ User.ts            # User data model
â”‚   â”‚   â”œâ”€â”€ Post.ts            # Post data model
â”‚   â”‚   â”œâ”€â”€ Flight.ts          # Flight data model
â”‚   â”‚   â”œâ”€â”€ Comment.ts         # Comment data model
â”‚   â”‚   â””â”€â”€ Notification.ts    # Notification model
â”‚   â”œâ”€â”€ routes/
â”‚   â”‚   â”œâ”€â”€ auth.ts            # Authentication routes
â”‚   â”‚   â”œâ”€â”€ v1/
â”‚   â”‚   â”‚   â”œâ”€â”€ auth.routes.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ post.routes.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ user.routes.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ flight.routes.ts
â”‚   â”‚   â”‚   â””â”€â”€ notification.routes.ts
â”‚   â”‚   â””â”€â”€ graphql/
â”‚   â”‚       â”œâ”€â”€ schema.ts      # GraphQL schema
â”‚   â”‚       â””â”€â”€ resolvers/
â”‚   â”‚           â””â”€â”€ index.ts   # GraphQL resolvers
â”‚   â”œâ”€â”€ middleware/
â”‚   â”‚   â”œâ”€â”€ auth.middleware.ts # JWT authentication
â”‚   â”‚   â”œâ”€â”€ upload.middleware.ts # File uploads
â”‚   â”‚   â””â”€â”€ error-handler.ts   # Global error handling
â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â”œâ”€â”€ auth.service.ts    # Auth business logic
â”‚   â”‚   â”œâ”€â”€ post.service.ts    # Post operations
â”‚   â”‚   â”œâ”€â”€ email.service.ts   # Email notifications
â”‚   â”‚   â”œâ”€â”€ storage.service.ts # File storage
â”‚   â”‚   â”œâ”€â”€ notification.service.ts # Push notifications
â”‚   â”‚   â”œâ”€â”€ socket.service.ts  # Real-time updates
â”‚   â”‚   â””â”€â”€ video.service.ts   # Video processing
â”‚   â”œâ”€â”€ utils/
â”‚   â”‚   â”œâ”€â”€ logger.ts          # Logging utility
â”‚   â”‚   â”œâ”€â”€ boardingPassParser.ts # Flight data extraction
â”‚   â”‚   â””â”€â”€ distanceCalculator.ts # Flight calculations
â”‚   â””â”€â”€ scripts/
â”‚       â”œâ”€â”€ seed.ts            # Database seeding
â”‚       â””â”€â”€ stress-test-data-generator.ts # Testing data
â””â”€â”€ __tests__/                   # Backend tests

## Frontend (React/Vite/TypeScript)
frontend/
â”œâ”€â”€ package.json                 # Frontend dependencies
â”œâ”€â”€ vite.config.ts              # Vite build configuration
â”œâ”€â”€ tsconfig.json               # TypeScript configuration
â”œâ”€â”€ Dockerfile.dev              # Development container
â”œâ”€â”€ public/
â”‚   â”œâ”€â”€ index.html              # HTML template
â”‚   â””â”€â”€ assets/                 # Static assets
â””â”€â”€ src/
    â”œâ”€â”€ main.tsx                # React app entry point
    â”œâ”€â”€ App.tsx                 # Main app component
    â”œâ”€â”€ index.css               # Global styles
    â”œâ”€â”€ vite-env.d.ts          # Vite type definitions
    â”œâ”€â”€ components/
    â”‚   â”œâ”€â”€ auth/
    â”‚   â”‚   â”œâ”€â”€ AuthPage.tsx    # Login/signup page
    â”‚   â”‚   â”œâ”€â”€ Login.tsx       # Login form
    â”‚   â”‚   â”œâ”€â”€ Register.tsx    # Registration form
    â”‚   â”‚   â”œâ”€â”€ OTPVerification.tsx # Email verification
    â”‚   â”‚   â”œâ”€â”€ ForgotPassword.tsx  # Password reset
    â”‚   â”‚   â”œâ”€â”€ AuthErrorScreen.tsx # Error handling
    â”‚   â”‚   â””â”€â”€ FullPageSpinner.tsx # Loading states
    â”‚   â”œâ”€â”€ feed/
    â”‚   â”‚   â”œâ”€â”€ Feed.tsx        # Main social feed
    â”‚   â”‚   â”œâ”€â”€ PostCard.tsx    # Individual posts
    â”‚   â”‚   â”œâ”€â”€ CreatePost.tsx  # Post creation
    â”‚   â”‚   â””â”€â”€ MediaPreview.tsx # Image/video preview
    â”‚   â”œâ”€â”€ flights/
    â”‚   â”‚   â”œâ”€â”€ FlightEditModal.tsx # Flight editing
    â”‚   â”‚   â”œâ”€â”€ FlightManualEntry.tsx # Manual flight entry
    â”‚   â”‚   â””â”€â”€ AirportAutocomplete.tsx # Airport search
    â”‚   â”œâ”€â”€ navigation/
    â”‚   â”‚   â””â”€â”€ NavigationHeader.tsx # Top navigation
    â”‚   â”œâ”€â”€ layout/
    â”‚   â”‚   â”œâ”€â”€ MainLayout.tsx  # App layout wrapper
    â”‚   â”‚   â”œâ”€â”€ AuthLayout.tsx  # Auth pages layout
    â”‚   â”‚   â””â”€â”€ RightSidebar.tsx # Side navigation
    â”‚   â”œâ”€â”€ common/
    â”‚   â”‚   â”œâ”€â”€ Toast.tsx       # Notification toasts
    â”‚   â”‚   â”œâ”€â”€ ConfirmDialog.tsx # Confirmation dialogs
    â”‚   â”‚   â””â”€â”€ LocationPicker.tsx # Map integration
    â”‚   â”œâ”€â”€ ui/
    â”‚   â”‚   â”œâ”€â”€ Button.tsx      # Reusable button
    â”‚   â”‚   â”œâ”€â”€ Avatar.tsx      # User avatars
    â”‚   â”‚   â””â”€â”€ Icons.tsx       # Icon components
    â”‚   â””â”€â”€ dev/
    â”‚       â””â”€â”€ StressTestPanel.tsx # Development testing
    â”œâ”€â”€ pages/
    â”‚   â”œâ”€â”€ Home.tsx            # Home/dashboard page
    â”‚   â”œâ”€â”€ Profile.tsx         # User profiles
    â”‚   â”œâ”€â”€ Flights.tsx         # Flight tracking
    â”‚   â”œâ”€â”€ Explore.tsx         # Discovery page
    â”‚   â”œâ”€â”€ Search.tsx          # Search functionality
    â”‚   â”œâ”€â”€ Earth.tsx           # 3D globe view
    â”‚   â”œâ”€â”€ Notifications.tsx   # User notifications
    â”‚   â””â”€â”€ TravelMap.tsx       # Travel visualization
    â”œâ”€â”€ contexts/
    â”‚   â”œâ”€â”€ AuthContext.tsx     # Authentication state
    â”‚   â”œâ”€â”€ ToastContext.tsx    # Toast notifications
    â”‚   â””â”€â”€ SocketContext.tsx   # WebSocket connection
    â”œâ”€â”€ services/
    â”‚   â”œâ”€â”€ auth.service.ts     # Authentication API
    â”‚   â”œâ”€â”€ post.service.ts     # Post operations
    â”‚   â”œâ”€â”€ user.service.ts     # User management
    â”‚   â”œâ”€â”€ flight.service.ts   # Flight tracking
    â”‚   â”œâ”€â”€ notification.service.ts # Notifications
    â”‚   â””â”€â”€ socket.service.ts   # Real-time updates
    â”œâ”€â”€ hooks/
    â”‚   â”œâ”€â”€ useAuth.ts          # Authentication hook
    â”‚   â”œâ”€â”€ useFileUpload.ts    # File upload logic
    â”‚   â”œâ”€â”€ useInfiniteScroll.ts # Pagination
    â”‚   â””â”€â”€ useOptimisticLikes.ts # UI optimizations
    â”œâ”€â”€ utils/
    â”‚   â”œâ”€â”€ validation.ts       # Form validation
    â”‚   â”œâ”€â”€ dateStrict.ts       # Date utilities
    â”‚   â”œâ”€â”€ errors.ts           # Error handling
    â”‚   â””â”€â”€ stressTest.ts       # Performance testing
    â”œâ”€â”€ config/
    â”‚   â”œâ”€â”€ apollo-client.ts    # GraphQL client
    â”‚   â””â”€â”€ api.config.ts       # API configuration
    â”œâ”€â”€ data/
    â”‚   â”œâ”€â”€ airports.json       # Airport database
    â”‚   â””â”€â”€ airportCoordinates.ts # Location data
    â”œâ”€â”€ gql/
    â”‚   â””â”€â”€ generated.ts        # Generated GraphQL types
    â””â”€â”€ tests/
        â””â”€â”€ stress-test-components.test.tsx # Component tests

## Mobile (Flutter/Dart)
mobile/
â”œâ”€â”€ pubspec.yaml               # Flutter dependencies
â”œâ”€â”€ lib/
â”‚   â”œâ”€â”€ main.dart             # Flutter app entry point
â”‚   â”œâ”€â”€ core/
â”‚   â”‚   â””â”€â”€ api/
â”‚   â”‚       â””â”€â”€ api_config.dart # API configuration
â”‚   â”œâ”€â”€ features/
â”‚   â”‚   â””â”€â”€ auth/
â”‚   â”‚       â””â”€â”€ data/
â”‚   â”‚           â””â”€â”€ models/
â”‚   â”‚               â””â”€â”€ flight.dart # Flight model
â”‚   â””â”€â”€ services/
â”‚       â””â”€â”€ flight_service.dart # Flight operations
â””â”€â”€ test/
    â”œâ”€â”€ data_sync_test.dart   # Data synchronization tests
    â”œâ”€â”€ flight_model_test.dart # Model tests
    â””â”€â”€ stress_test_comprehensive.dart # Performance tests

## Shared (TypeScript Types/Validation)
shared/
â”œâ”€â”€ package.json              # Shared package config
â”œâ”€â”€ tsconfig.json            # TypeScript configuration
â””â”€â”€ src/
    â”œâ”€â”€ index.ts             # Shared exports
    â”œâ”€â”€ types/
    â”‚   â”œâ”€â”€ user.types.ts    # User type definitions
    â”‚   â”œâ”€â”€ comment.types.ts # Comment types
    â”‚   â””â”€â”€ flight.types.ts  # Flight types
    â””â”€â”€ validation/
        â”œâ”€â”€ auth.schemas.ts  # Authentication validation
        â””â”€â”€ post.schemas.ts  # Post validation schemas

## Configuration & Scripts
config/
â”œâ”€â”€ .env.dev                 # Development environment
â”œâ”€â”€ .env.prod               # Production environment
â””â”€â”€ .env.example            # Environment template

scripts/
â”œâ”€â”€ deploy/
â”‚   â”œâ”€â”€ deploy-prod.sh      # Production deployment
â”‚   â””â”€â”€ rollback.sh         # Deployment rollback
â”œâ”€â”€ health-checks/
â”‚   â”œâ”€â”€ api-health-local.sh # API health monitoring
â”‚   â””â”€â”€ db-connectivity.sh  # Database checks
â””â”€â”€ setup/
    â””â”€â”€ setup-mobile-dev.sh # Mobile development setup

## Documentation
docs/
â”œâ”€â”€ API_DOCUMENTATION.md     # API reference
â”œâ”€â”€ DEVELOPMENT_GUIDE.md    # Development setup
â””â”€â”€ DEPLOYMENT_DOCUMENTATION.md # Deployment guide

## Development Tools
â”œâ”€â”€ .gitignore              # Git ignore rules
â”œâ”€â”€ .eslintrc.js           # ESLint configuration
â”œâ”€â”€ .prettierrc            # Code formatting
â”œâ”€â”€ .husky/                # Git hooks
â”œâ”€â”€ Jenkinsfile            # CI/CD pipeline
â””â”€â”€ STRESS_TEST_DEMO.md    # Performance testing guide

## Key Features Implemented
- ğŸ” JWT Authentication with email verification
- ğŸ“± Social media feed with posts, comments, likes
- âœˆï¸ Flight tracking with boarding pass OCR
- ğŸŒ Interactive travel mapping
- ğŸ”” Real-time notifications via WebSocket
- ğŸ“¤ File uploads (images, videos, boarding passes)
- ğŸ¯ Stress testing and performance monitoring
- ğŸ“Š GraphQL API with REST endpoints
- ğŸ—ï¸ Docker containerization
- ğŸš€ CI/CD with Jenkins
- ğŸ“± Cross-platform (Web + Mobile)

## Technology Stack
- **Backend**: Node.js, Express, GraphQL, MongoDB, Socket.IO
- **Frontend**: React, TypeScript, Vite, Apollo Client
- **Mobile**: Flutter, Dart
- **Database**: MongoDB with Mongoose ODM
- **Authentication**: JWT, bcrypt
- **File Storage**: DigitalOcean Spaces / Local storage
- **Email**: Mailtrap, Resend
- **Deployment**: Docker, Jenkins, DigitalOcean
- **Testing**: Jest, Vitest, Flutter test framework