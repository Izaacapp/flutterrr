import{r as s,b as Ie,d as Te,e as Be,u as Fe,a as Re,h as Ue,i as w,j as e,T as ze}from"./index-BuZGzeB0.js";import{P as de,C as Le,b as Pe}from"./PostCard-Bc64TdXT.js";import{u as Ae,p as We}from"./post.service-_8tU2b1P.js";const Ee=10*1024*1024,_e=()=>{const[g,b]=s.useState(null),[f,n]=s.useState(null),[R,k]=s.useState(null),l=s.useRef(null),U=m=>m.type.startsWith("image/")?m.size>Ee?"File size should not exceed 10MB":null:"Please select a valid image file (JPG, PNG, GIF, WebP)";return{selectedImage:g,previewUrl:f,error:R,imageInputRef:l,handleImageClick:()=>{var m;(m=l.current)==null||m.click()},handleImageChange:m=>{var d;const h=(d=m.target.files)==null?void 0:d[0];if(h){const c=U(h);if(c){k(c);return}k(null),b(h),f&&URL.revokeObjectURL(f);const S=URL.createObjectURL(h);n(S)}},removeImage:()=>{b(null),k(null),f&&URL.revokeObjectURL(f),n(null),l.current&&(l.current.value="")},uploadImage:async m=>{if(!g)return null;const h=new FormData;h.append("avatar",g);try{const d=localStorage.getItem("passport_buddy_token"),c=await fetch(m,{method:"POST",headers:{Authorization:`Bearer ${d}`},body:h});if(!c.ok){const x=await c.json();throw new Error(x.message||"Failed to upload image")}return(await c.json()).data.avatar}catch(d){return k(d instanceof Error?d.message:"Failed to upload image"),null}}}},Oe=()=>{var ne,le;const{username:g}=Ie(),b=Te(),f=Be(),{user:n,logout:R,updateUser:k}=Fe(),{showToast:l}=Re(),U=Ae(),[z,L]=s.useState(!1),[O,P]=s.useState(null),[m,h]=s.useState(!1),[d,c]=s.useState(!1),[S,x]=s.useState(0),[ce,$]=s.useState(0),[A,H]=s.useState([]),[W,G]=s.useState([]),[E,X]=s.useState(!1),[v,_]=s.useState(!1),[pe,V]=s.useState(!1),[ue,M]=s.useState(!1),[J,D]=s.useState(!1),[p,j]=s.useState("posts"),[Y,I]=s.useState(!1),[Z,T]=s.useState([]),[me,q]=s.useState(!1),[K,B]=s.useState([]),[he,Q]=s.useState(!1),N=s.useRef(null),u=!g||g===(n==null?void 0:n.username),r=u?n:O,{stats:ge,loading:fe}=Ue(r==null?void 0:r.id),{selectedImage:C,previewUrl:ee,imageInputRef:xe,handleImageClick:be,handleImageChange:ve,removeImage:te}=_e();s.useEffect(()=>{var t;(t=f.state)!=null&&t.activeTab&&j(f.state.activeTab)},[f.state]);const re=s.useCallback(async()=>{if(g&&!u){h(!0);try{const t=await w.getProfileByUsername(g);t.status==="success"?(P(t.data.user),c(t.data.user.isFollowing||!1),_(t.data.user.isBlocked||!1),x(t.data.user.followersCount||0),$(t.data.user.followingCount||0),H(t.data.user.followers||[]),G(t.data.user.following||[])):(l("User not found","error"),b("/"))}catch{l("Failed to load profile","error"),b("/")}finally{h(!1)}}else if(u&&(n!=null&&n.username)){h(!0);try{const t=await w.getProfileByUsername(n.username);t.status==="success"&&(x(t.data.user.followersCount||0),$(t.data.user.followingCount||0),H(t.data.user.followers||[]),G(t.data.user.following||[]))}catch{}finally{h(!1)}}},[g,u,n==null?void 0:n.username,l,b]);s.useEffect(()=>{P(null),j("posts"),I(!1),re()},[g,re]),s.useEffect(()=>{(async()=>{if(p==="posts"&&(r!=null&&r.id)){Q(!0);try{const o=localStorage.getItem("passport_buddy_token"),a=await fetch(`https://www.xbullet.me/api/v1/posts/user/${r.id}`,{credentials:"include",headers:{"Content-Type":"application/json",...o&&{Authorization:`Bearer ${o}`}}});if(a.ok){const i=await a.json();i.status==="success"&&B(i.data.posts)}}catch{l("Failed to load posts","error")}finally{Q(!1)}}})()},[p,r==null?void 0:r.id,l]),s.useEffect(()=>{(async()=>{if(p==="bookmarks"&&u){q(!0);try{const o=await Pe.getBookmarkedPosts();T(o.posts||[])}catch{l("Failed to load bookmarks","error")}finally{q(!1)}}})()},[p,u,l]),s.useEffect(()=>{const t=o=>{N.current&&!N.current.contains(o.target)&&D(!1)};return document.addEventListener("mousedown",t),()=>{document.removeEventListener("mousedown",t)}},[]);const ye=async()=>{var t,o;if(C){L(!0);try{const a=localStorage.getItem("passport_buddy_token"),i=new FormData;i.append("avatar",C);const y=await fetch("https://www.xbullet.me/api/v1/users/avatar",{method:"POST",headers:{Authorization:`Bearer ${a}`},body:i});if(y.ok){const F=await y.json();(o=(t=F.data)==null?void 0:t.user)!=null&&o.avatar&&(k({avatar:F.data.user.avatar}),l("Avatar updated successfully!","success")),te()}else{const F=await y.json();l(F.message||"Failed to upload avatar","error")}}catch{l("Failed to upload avatar","error")}finally{L(!1)}}},oe=()=>{u&&be()},ke=async()=>{if(!(!(r!=null&&r.id)||E)){X(!0);try{d?(await w.unfollowUser(r.id),c(!1),x(t=>t-1)):(await w.followUser(r.id),c(!0),x(t=>t+1))}catch{d?(c(!0),x(o=>o+1)):(c(!1),x(o=>o-1))}finally{X(!1)}}},se=async()=>{if(!(!(r!=null&&r.id)||pe)){V(!0);try{v?(await w.unblockUser(r.id),_(!1),l("User unblocked successfully","success")):(await w.blockUser(r.id),_(!0),d&&(c(!1),x(t=>t-1)),l("User blocked successfully","success"));try{U.cache.modify({id:`User:${r.id}`,fields:{blocked:()=>v,isBlocked:()=>v,blockedByCurrentUser:()=>v}})}catch{}M(!1)}catch{l("Failed to update block status","error")}finally{V(!1)}}},ae=async t=>{try{await We.toggleLike(t)}catch{l("Failed to like post","error")}},we=(t,o)=>{T(a=>a.map(i=>i._id===t?{...i,comments:[...i.comments,o]}:i))},je=(t,o)=>{T(a=>a.map(i=>i._id===t?{...i,comments:i.comments.filter(y=>y._id!==o)}:i))},ie=t=>{T(o=>o.filter(a=>a._id!==t)),B(o=>o.filter(a=>a._id!==t))},Ce=(t,o)=>{B(a=>a.map(i=>i._id===t?{...i,comments:[...i.comments,o]}:i))},Se=(t,o)=>{B(a=>a.map(i=>i._id===t?{...i,comments:i.comments.filter(y=>y._id!==o)}:i))};return m||!r?e.jsx("div",{style:{maxWidth:"900px",margin:"0 auto",padding:"1.5rem",minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsxs("div",{style:{textAlign:"center"},children:[e.jsx("div",{style:{width:"40px",height:"40px",border:"3px solid var(--pb-light-periwinkle)",borderTop:"3px solid var(--pb-medium-purple)",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto 1rem"}}),e.jsx("p",{children:"Loading profile..."})]})}):m&&!r?e.jsx("div",{style:{maxWidth:"900px",margin:"0 auto",padding:"1.5rem",backgroundColor:"var(--pb-background)",minHeight:"100vh"},children:e.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"50vh"},children:e.jsx("div",{style:{width:"40px",height:"40px",border:"3px solid var(--pb-light-periwinkle)",borderTop:"3px solid var(--pb-medium-purple)",borderRadius:"50%",animation:"spin 1s linear infinite"}})})}):e.jsxs("div",{style:{maxWidth:"900px",margin:"0 auto",padding:"1.5rem",backgroundColor:"var(--pb-background)",minHeight:"100vh"},children:[e.jsxs("div",{style:{backgroundColor:"var(--pb-white)",borderRadius:"12px",padding:"1.5rem",boxShadow:"0 2px 8px rgba(139, 86, 192, 0.1)",marginBottom:"1rem",position:"relative"},children:[!u&&e.jsx("div",{style:{position:"absolute",top:"1rem",right:"1rem"},children:e.jsxs("div",{style:{position:"relative"},ref:N,children:[e.jsx("button",{onClick:()=>D(!J),style:{padding:"0.5rem",backgroundColor:"transparent",color:"#6b7280",border:"none",borderRadius:"50%",cursor:"pointer",width:"32px",height:"32px",transition:"background-color 0.2s ease"},children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",children:[e.jsx("circle",{cx:"5",cy:"12",r:"2",fill:"currentColor"}),e.jsx("circle",{cx:"12",cy:"12",r:"2",fill:"currentColor"}),e.jsx("circle",{cx:"19",cy:"12",r:"2",fill:"currentColor"})]})}),J&&e.jsx("div",{style:{position:"absolute",top:"100%",right:"0",marginTop:"0.5rem",backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)",minWidth:"150px",zIndex:10},children:e.jsx("button",{onClick:()=>{v?se():M(!0),D(!1)},style:{width:"100%",padding:"0.75rem 1rem",backgroundColor:"transparent",color:v?"#374151":"#dc2626",border:"none",textAlign:"left",cursor:"pointer",fontSize:"0.875rem"},children:v?"Unblock User":"Block User"})})]})}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1.5rem",justifyContent:"center"},children:[e.jsxs("div",{style:{position:"relative"},children:[e.jsx("div",{style:{width:"80px",height:"80px",borderRadius:"50%",backgroundColor:"var(--pb-light-periwinkle)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"2rem",fontWeight:"600",color:"var(--pb-medium-purple)",overflow:"hidden",cursor:u?"pointer":"default"},onClick:oe,children:ee?e.jsx("img",{src:ee,alt:"Preview",style:{width:"100%",height:"100%",objectFit:"cover"}}):r!=null&&r.avatar?e.jsx("img",{src:r.avatar,alt:"Profile",style:{width:"100%",height:"100%",objectFit:"cover"}}):((le=(ne=r==null?void 0:r.username)==null?void 0:ne.charAt(0))==null?void 0:le.toUpperCase())||"U"}),u&&!C&&e.jsx("button",{onClick:oe,style:{position:"absolute",bottom:-4,right:-4,backgroundColor:"var(--pb-medium-purple)",color:"white",border:"none",borderRadius:"50%",width:"28px",height:"28px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:e.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[e.jsx("path",{d:"M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"}),e.jsx("circle",{cx:"12",cy:"13",r:"4"})]})})]}),e.jsxs("div",{style:{textAlign:"center"},children:[e.jsx("h1",{style:{fontSize:"1.5rem",fontWeight:"700",marginBottom:"1rem",color:"var(--pb-dark-purple)"},children:r==null?void 0:r.fullName}),e.jsxs("div",{style:{display:"flex",gap:"0.75rem",alignItems:"center",justifyContent:"center"},children:[!u&&!v&&e.jsx("button",{onClick:ke,disabled:E,style:{padding:"0.5rem 1.5rem",backgroundColor:d?"transparent":"var(--pb-medium-purple)",color:d?"var(--pb-medium-purple)":"white",border:d?"2px solid var(--pb-medium-purple)":"none",borderRadius:"24px",fontSize:"0.875rem",fontWeight:"600",cursor:"pointer",transition:"all 0.2s ease"},children:E?"Loading...":d?"Following":"Follow"}),e.jsxs("button",{onClick:()=>I(!Y),style:{padding:"0.5rem 1rem",backgroundColor:"var(--pb-light-periwinkle)",color:"var(--pb-dark-purple)",border:"none",borderRadius:"24px",fontSize:"0.875rem",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem",transition:"all 0.2s ease"},children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83"}),e.jsx("path",{d:"M22 12A10 10 0 0 0 12 2v10z"})]}),"Travel Stats"]})]})]})]}),u&&e.jsxs(e.Fragment,{children:[e.jsx("input",{ref:xe,type:"file",accept:"image/*",onChange:ve,style:{display:"none"}}),C&&e.jsxs("div",{style:{display:"flex",gap:"0.5rem",justifyContent:"center",marginTop:"1rem",paddingTop:"1rem",borderTop:"1px solid var(--pb-light-periwinkle)"},children:[e.jsx("button",{onClick:ye,disabled:!C||z,style:{padding:"0.5rem 1.5rem",backgroundColor:"var(--pb-medium-purple)",color:"white",border:"none",borderRadius:"4px",fontSize:"0.875rem",cursor:"pointer"},children:z?"Uploading...":"Update Avatar"}),e.jsx("button",{onClick:te,style:{padding:"0.5rem 1.5rem",backgroundColor:"var(--pb-light-periwinkle)",color:"var(--pb-dark-purple)",border:"none",borderRadius:"4px",fontSize:"0.875rem",cursor:"pointer"},children:"Cancel"})]})]})]}),e.jsxs("div",{style:{backgroundColor:"var(--pb-white)",borderRadius:"12px",boxShadow:"0 2px 8px rgba(139, 86, 192, 0.1)",marginBottom:"1rem",overflow:"hidden"},children:[e.jsxs("div",{style:{display:"flex",borderBottom:"1px solid var(--pb-light-periwinkle)"},children:[e.jsx("button",{onClick:()=>j("posts"),style:{flex:1,padding:"1rem",backgroundColor:"transparent",border:"none",borderBottom:p==="posts"?"3px solid var(--pb-medium-purple)":"3px solid transparent",color:p==="posts"?"var(--pb-dark-purple)":"#6b7280",fontSize:"0.9375rem",fontWeight:"600",cursor:"pointer",transition:"all 0.2s ease"},children:"Posts"}),e.jsx("button",{onClick:()=>j("friends"),style:{flex:1,padding:"1rem",backgroundColor:"transparent",border:"none",borderBottom:p==="friends"?"3px solid var(--pb-medium-purple)":"3px solid transparent",color:p==="friends"?"var(--pb-dark-purple)":"#6b7280",fontSize:"0.9375rem",fontWeight:"600",cursor:"pointer",transition:"all 0.2s ease"},children:"Friends"}),e.jsx("button",{onClick:()=>j("bookmarks"),style:{flex:1,padding:"1rem",backgroundColor:"transparent",border:"none",borderBottom:p==="bookmarks"?"3px solid var(--pb-medium-purple)":"3px solid transparent",color:p==="bookmarks"?"var(--pb-dark-purple)":"#6b7280",fontSize:"0.9375rem",fontWeight:"600",cursor:"pointer",transition:"all 0.2s ease"},children:"Bookmarks"})]}),e.jsxs("div",{style:{padding:"1.5rem"},children:[p==="posts"&&e.jsx("div",{style:{margin:"-1.5rem",paddingTop:"12px"},children:he?e.jsxs("div",{style:{textAlign:"center",padding:"3rem 0"},children:[e.jsx("div",{style:{width:"40px",height:"40px",border:"3px solid var(--pb-light-periwinkle)",borderTop:"3px solid var(--pb-medium-purple)",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto 1rem"}}),e.jsx("p",{style:{color:"#6b7280"},children:"Loading posts..."})]}):K.length>0?e.jsx("div",{className:"feed-posts",style:{maxWidth:"100%"},children:K.map(t=>e.jsx(de,{post:t,currentUserId:n==null?void 0:n.id,onToggleLike:ae,onCommentAdded:Ce,onCommentDeleted:Se,onPostDeleted:ie},t._id))}):e.jsxs("div",{style:{textAlign:"center",padding:"3rem 1.5rem"},children:[e.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",style:{margin:"0 auto 1rem",opacity:.3},children:[e.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",stroke:"currentColor",strokeWidth:"2"}),e.jsx("line",{x1:"3",y1:"9",x2:"21",y2:"9",stroke:"currentColor",strokeWidth:"2"}),e.jsx("line",{x1:"9",y1:"21",x2:"9",y2:"9",stroke:"currentColor",strokeWidth:"2"})]}),e.jsx("p",{style:{color:"#6b7280"},children:"No posts yet"})]})}),p==="friends"&&e.jsxs("div",{children:[e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",marginBottom:"1.5rem"},children:[e.jsxs("div",{style:{textAlign:"center",padding:"1rem",backgroundColor:"var(--pb-ultra-light)",borderRadius:"8px"},children:[e.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"700",color:"var(--pb-dark-purple)"},children:ce}),e.jsx("div",{style:{fontSize:"0.875rem",color:"#6b7280"},children:"Following"})]}),e.jsxs("div",{style:{textAlign:"center",padding:"1rem",backgroundColor:"var(--pb-ultra-light)",borderRadius:"8px"},children:[e.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"700",color:"var(--pb-dark-purple)"},children:S}),e.jsx("div",{style:{fontSize:"0.875rem",color:"#6b7280"},children:"Followers"})]})]}),W.length>0&&e.jsxs("div",{style:{marginBottom:"2rem"},children:[e.jsx("h3",{style:{fontSize:"1rem",fontWeight:"600",marginBottom:"1rem",color:"var(--pb-dark-purple)"},children:"Following"}),e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:W.map(t=>{var o;return e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",padding:"0.5rem",borderRadius:"8px",cursor:"pointer",transition:"background-color 0.2s ease"},onClick:()=>b(`/profile/${t.username}`),onMouseEnter:a=>a.currentTarget.style.backgroundColor="var(--pb-ultra-light)",onMouseLeave:a=>a.currentTarget.style.backgroundColor="transparent",children:[t.avatar?e.jsx("img",{src:t.avatar,alt:t.username,style:{width:"40px",height:"40px",borderRadius:"50%",objectFit:"cover"}}):e.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"50%",backgroundColor:"var(--pb-medium-purple)",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontWeight:"600"},children:(o=t.username)==null?void 0:o.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("div",{style:{fontWeight:"600",fontSize:"0.875rem"},children:t.username}),t.fullName&&e.jsx("div",{style:{fontSize:"0.75rem",color:"#6b7280"},children:t.fullName})]})]},t._id)})})]}),A.length>0&&e.jsxs("div",{children:[e.jsx("h3",{style:{fontSize:"1rem",fontWeight:"600",marginBottom:"1rem",color:"var(--pb-dark-purple)"},children:"Followers"}),e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:A.map(t=>{var o;return e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",padding:"0.5rem",borderRadius:"8px",cursor:"pointer",transition:"background-color 0.2s ease"},onClick:()=>b(`/profile/${t.username}`),onMouseEnter:a=>a.currentTarget.style.backgroundColor="var(--pb-ultra-light)",onMouseLeave:a=>a.currentTarget.style.backgroundColor="transparent",children:[t.avatar?e.jsx("img",{src:t.avatar,alt:t.username,style:{width:"40px",height:"40px",borderRadius:"50%",objectFit:"cover"}}):e.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"50%",backgroundColor:"var(--pb-medium-purple)",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontWeight:"600"},children:(o=t.username)==null?void 0:o.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("div",{style:{fontWeight:"600",fontSize:"0.875rem"},children:t.username}),t.fullName&&e.jsx("div",{style:{fontSize:"0.75rem",color:"#6b7280"},children:t.fullName})]})]},t._id)})})]}),W.length===0&&A.length===0&&e.jsx("div",{style:{textAlign:"center",padding:"2rem 0"},children:e.jsx("p",{style:{color:"#6b7280"},children:"No connections yet"})})]}),p==="bookmarks"&&e.jsx("div",{style:{margin:"-1.5rem",paddingTop:"12px"},children:me?e.jsxs("div",{style:{textAlign:"center",padding:"3rem 0"},children:[e.jsx("div",{style:{width:"40px",height:"40px",border:"3px solid var(--pb-light-periwinkle)",borderTop:"3px solid var(--pb-medium-purple)",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto 1rem"}}),e.jsx("p",{style:{color:"#6b7280"},children:"Loading bookmarks..."})]}):Z.length>0?e.jsx("div",{className:"feed-posts",style:{maxWidth:"100%"},children:Z.map(t=>e.jsx(de,{post:t,currentUserId:n==null?void 0:n.id,onToggleLike:ae,onCommentAdded:we,onCommentDeleted:je,onPostDeleted:ie},t._id))}):e.jsxs("div",{style:{textAlign:"center",padding:"3rem 1.5rem"},children:[e.jsx("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",style:{margin:"0 auto 1rem",opacity:.3},children:e.jsx("path",{d:"M19 21l-7-5-7 5V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z",stroke:"currentColor",strokeWidth:"2"})}),e.jsx("p",{style:{color:"#6b7280"},children:"No bookmarks yet"})]})})]})]}),Y&&e.jsxs(e.Fragment,{children:[e.jsx("div",{style:{position:"fixed",top:"60px",left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",zIndex:998,animation:"fadeIn 0.3s ease-out"},onClick:()=>I(!1)}),e.jsxs("div",{className:"stats-panel-scroll",style:{position:"fixed",top:"60px",right:0,width:"300px",height:"calc(100vh - 60px)",backgroundColor:"white",boxShadow:"-2px 0 10px rgba(0, 0, 0, 0.1)",zIndex:999,overflowY:"auto",overflowX:"hidden",animation:"slideIn 0.3s cubic-bezier(0.0, 0.0, 0.2, 1)"},children:[e.jsxs("div",{style:{padding:"1rem 1.5rem",borderBottom:"1px solid #e5e7eb",display:"flex",justifyContent:"space-between",alignItems:"center",position:"sticky",top:0,backgroundColor:"white",zIndex:10},children:[e.jsx("h2",{style:{fontSize:"1.25rem",fontWeight:"700",color:"var(--pb-dark-purple)"},children:"Travel Statistics"}),e.jsx("button",{onClick:()=>I(!1),style:{width:"32px",height:"32px",borderRadius:"50%",backgroundColor:"var(--pb-ultra-light)",border:"none",cursor:"pointer",color:"var(--pb-medium-purple)",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s ease"},onMouseEnter:t=>{t.currentTarget.style.backgroundColor="var(--pb-light-periwinkle)"},onMouseLeave:t=>{t.currentTarget.style.backgroundColor="var(--pb-ultra-light)"},children:e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M15 9l-6 6M9 9l6 6",strokeLinecap:"round",strokeLinejoin:"round"})})})]}),e.jsx("div",{style:{padding:"1.5rem",paddingTop:"1rem"},children:e.jsx(ze,{stats:ge,loading:fe,showGoals:!0})})]})]}),u&&e.jsx("div",{style:{textAlign:"center",marginTop:"2rem"},children:e.jsx("button",{onClick:R,style:{padding:"0.75rem 2rem",backgroundColor:"transparent",color:"#dc3545",border:"2px solid #dc3545",borderRadius:"8px",fontSize:"1rem",fontWeight:"500",cursor:"pointer",transition:"all 0.2s ease"},onMouseEnter:t=>{t.currentTarget.style.backgroundColor="#dc3545",t.currentTarget.style.color="white"},onMouseLeave:t=>{t.currentTarget.style.backgroundColor="transparent",t.currentTarget.style.color="#dc3545"},children:"Logout"})}),e.jsx(Le,{isOpen:ue,title:"Block User?",message:`Are you sure you want to block @${r==null?void 0:r.username}? This will prevent them from following you and seeing your content.`,confirmText:"Block",cancelText:"Cancel",type:"danger",onConfirm:se,onCancel:()=>M(!1)}),e.jsx("style",{children:`
          @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
          }
          
          @keyframes slideIn {
            from {
              transform: translateX(100%);
            }
            to {
              transform: translateX(0);
            }
          }
          
          @keyframes fadeIn {
            from {
              opacity: 0;
            }
            to {
              opacity: 1;
            }
          }
          
          /* Custom scrollbar for stats panel */
          .stats-panel-scroll {
            scrollbar-width: thin;
            scrollbar-color: var(--pb-light-periwinkle) transparent;
          }
          
          .stats-panel-scroll::-webkit-scrollbar {
            width: 6px;
          }
          
          .stats-panel-scroll::-webkit-scrollbar-track {
            background: transparent;
          }
          
          .stats-panel-scroll::-webkit-scrollbar-thumb {
            background-color: var(--pb-light-periwinkle);
            border-radius: 3px;
            transition: background-color 0.2s ease;
          }
          
          .stats-panel-scroll::-webkit-scrollbar-thumb:hover {
            background-color: var(--pb-medium-purple);
          }
          
          /* Hide scrollbar by default, show on hover */
          .stats-panel-scroll:not(:hover)::-webkit-scrollbar-thumb {
            background-color: transparent;
          }
        `})]})};export{Oe as Profile};
